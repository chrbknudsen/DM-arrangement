[
  {
    "objectID": "index.html#udfordring",
    "href": "index.html#udfordring",
    "title": "find guldet",
    "section": "Udfordring!",
    "text": "Udfordring!\ncurl virker ikke nativt i webassembler. Men der skulle eksistere en workaround beskrevet her:\nhttps://jeroen.github.io/notes/webassembly-curl/\nMen det hjælper os ikke… Så i stedet må vi kigge på en GET løsning - gennem - url https://api.statbank.dk/console#data\nHvilket - med det parametre der angives senere, giver: https://api.statbank.dk/v1/data/HFUDD11/CSV?BOPOMR=*&HFUDD=H10%2C%20H20%2C%20H30%2C%20H40%2C%20H50%2C%20H60%2C%20H70%2C%20H80%2C%20H90&Tid=2024\nMen det fejler. Chatty hjælper til: https://api.statbank.dk/v1/data/HFUDD11/CSV?BOPOMR=*&HFUDD=H10,H20&Tid=2024 så skal vi “bare” have tilføjet resten af H’erne.\nOg det virker! ## Housekeeping\nGå til denne side i din browser . . . Følg med ved at bruge piletasterne. . . . Stil endelig spørgsmål!"
  },
  {
    "objectID": "index.html#målet",
    "href": "index.html#målet",
    "title": "find guldet",
    "section": "målet",
    "text": "målet\nSådan da. Vi skal nok have den gennem ggplotly så vi faktisk kan styre farverne."
  },
  {
    "objectID": "index.html#kub-datalab",
    "href": "index.html#kub-datalab",
    "title": "find guldet",
    "section": "KUB Datalab",
    "text": "KUB Datalab\nHvem er vi?"
  },
  {
    "objectID": "index.html#hvad-vil-vi-vise",
    "href": "index.html#hvad-vil-vi-vise",
    "title": "find guldet",
    "section": "Hvad vil vi vise?",
    "text": "Hvad vil vi vise?\nVi vil hente noget data fra Danmarks Statistik.\nog så vil vi gøre ting med det\nVi bruger denne tabel fra DS\nHFUDD11"
  },
  {
    "objectID": "index.html#hvordan-gør-jeg-det-derhjemme",
    "href": "index.html#hvordan-gør-jeg-det-derhjemme",
    "title": "find guldet",
    "section": "Hvordan gør jeg det derhjemme?",
    "text": "Hvordan gør jeg det derhjemme?\nHvis du vil lave noget der er mere avanceret end det her - så download og installer R og Positron fra disse adresser"
  },
  {
    "objectID": "index.html#det-samlede-script",
    "href": "index.html#det-samlede-script",
    "title": "find guldet",
    "section": "Det samlede script",
    "text": "Det samlede script\nHer sætter vi det samlede færdige script ind, lige til at kopiere. plotDK er pakken!\nlibrary(httr2)\nendpoint &lt;- \"http://api.statbank.dk/v1/data\"\n\nvariables &lt;- list(list(code = \"BOPOMR\", values = I(\"*\")),\n                  list(code = \"HFUDD\", values = c(\"H10\", \"H20\", \"H30\", \"H40\", \"H50\", \"H60\", \"H70\", \"H80\", \"H90\")),\n                  list(code = \"Tid\", values = I(2024))\n              )\n\nour_body &lt;- list(table = \"HFUDD11\", lang = \"da\", format = \"CSV\", variables = variables)\n\n\n\nresp &lt;- request(endpoint) |&gt;\n  req_body_json(our_body) |&gt;\n  req_perform()\n\ncsv_text &lt;- resp_body_string(resp)\n\n\ndf &lt;- read.csv2(text = csv_text)\ndf &lt;- df |&gt;mutate(BOPOMR = tolower(BOPOMR))\n\nplotDK::municipality |&gt; head()\n\nlibrary(plotDK)\nlibrary(dplyr)\nlibrary(ggplot2)\ndf |&gt; \n  group_by(BOPOMR) |&gt; \n  mutate(totbefolk = sum(INDHOLD)) |&gt; \n  mutate(andel = INDHOLD/totbefolk) |&gt; \n  filter(HFUDD == \"H10 Grundskole\") |&gt; \nplotDK::plotDK(id = \"BOPOMR\", value = \"andel\", interactive = FALSE)  +\n  scale_fill_gradient(low = \"blue\",\n                      high = \"red\")"
  }
]